# TODO This tenet is only a mock. The query here needs to be updated.

tenets:
  - name: looped-vars-outside
    flows:
      codelingo/docs:
        title: Title in Docs
        body: |
          In Go, the memory locations of loop variables are reused over iterations. Therefore, these addresses should never be allowed to escape the loop. Doing so may result in unpredictable behavior.
      codelingo/review:
        comment: Loop variable {{varname}} is used outside the loop. Make a copy instead if you indent to use its value.
    query: |
      import codelingo/ast/go

      @review.comment
      go.func_decl(depth = any):
        go.func_type:
          go.field_list:
            go.field:
              go.names:
                go.ident:
                  type == "bool"
